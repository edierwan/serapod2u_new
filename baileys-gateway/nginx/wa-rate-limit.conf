# Rate Limiting Configuration for Baileys Gateway
# File: /etc/nginx/conf.d/wa-rate-limit.conf
#
# This file defines rate limit zones used by wa.serapod2u.com
# Must be included BEFORE the server block that uses them

# Zone for very sensitive endpoints (session reset)
# 5 requests per minute per IP
limit_req_zone $binary_remote_addr zone=wa_sensitive:10m rate=5r/m;

# Zone for QR code requests
# 60 requests per minute per IP (1 per second average)
limit_req_zone $binary_remote_addr zone=wa_qr:10m rate=60r/m;

# Zone for general API requests
# 100 requests per minute per IP
limit_req_zone $binary_remote_addr zone=wa_general:10m rate=100r/m;
